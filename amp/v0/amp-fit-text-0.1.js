(window.AMP=window.AMP||[]).push(function(e){!function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,n,i){function r(e,t,n,i){for(i++;i-n>1;){var r=Math.floor((n+i)/2);e.style.fontSize=l.px(r);var o=e.offsetHeight;o>t?i=r:n=r}return n}function o(e,t,n,i){t.style.fontSize=l.px(i);var r=t.offsetHeight>n,o=i*u,a=Math.floor(n/o);e.classList.toggle("-amp-fit-text-content-overflown",r),l.setStyles(e,{lineClamp:r?a:"",maxHeight:r?l.px(o*a):""})}Object.defineProperty(i,"__esModule",{value:!0}),i.calculateFontSize_=r,i.updateOverflow_=o;var a=t("../../../src/layout"),s=t("../../../src/style"),l=babelHelpers.interopRequireWildcard(s),u=1.15,c=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"isLayoutSupported",value:function(e){return(0,a.isLayoutSizeDefined)(e)}},{key:"isReadyToBuild",value:function(){return null!=this.element.firstChild}},{key:"buildCallback",value:function(){var e=this;this.getRealChildNodes();this.content_=document.createElement("div"),this.applyFillContent(this.content_),this.content_.classList.add("-amp-fit-text-content"),l.setStyles(this.content_,{zIndex:2}),this.contentWrapper_=document.createElement("div"),l.setStyles(this.contentWrapper_,{lineHeight:u+"em"}),this.content_.appendChild(this.contentWrapper_),this.measurer_=document.createElement("div"),l.setStyles(this.measurer_,{position:"absolute",top:0,left:0,right:0,zIndex:1,visibility:"hidden",lineHeight:u+"em"}),this.getRealChildNodes().forEach(function(t){e.contentWrapper_.appendChild(t)}),this.measurer_.innerHTML=this.contentWrapper_.innerHTML,this.element.appendChild(this.content_),this.element.appendChild(this.measurer_),this.minFontSize_=(0,a.getLengthNumeral)(this.element.getAttribute("min-font-size"))||6,this.maxFontSize_=(0,a.getLengthNumeral)(this.element.getAttribute("max-font-size"))||72}},{key:"prerenderAllowed",value:function(){return!0}},{key:"isRelayoutNeeded",value:function(){return!0}},{key:"layoutCallback",value:function(){return this.updateFontSize_(),Promise.resolve()}},{key:"updateFontSize_",value:function(){var e=this.element.offsetHeight,t=r(this.measurer_,e,this.minFontSize_,this.maxFontSize_);this.contentWrapper_.style.fontSize=l.px(t),o(this.contentWrapper_,this.measurer_,e,t)}}]),t}(e.BaseElement);e.registerElement("amp-fit-text",c,".-amp-fit-text-content,.-amp-fit-text-content.-amp-fill-content{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.-amp-fit-text-content-overflown{display:block;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}\n/*# sourceURL=/extensions/amp-fit-text/0.1/amp-fit-text.css*/")},{"../../../src/layout":3,"../../../src/style":4}],2:[function(e,t,n){function i(e,t,n){var i=void 0;if(!e){t=t||"Assertion failed";var a=t.split("%s"),s=a.shift(),l=s,u=[];o(u,s);for(var c=2;c<arguments.length;c++){var f=arguments[c];f&&f.tagName&&(i=f);var p=a.shift();u.push(f),o(u,p.trim()),l+=r(f)+p}var d=new Error(l);throw d.fromAssert=!0,d.associatedElement=i,d.messageArray=u,d}return e}function r(e){return e instanceof Element?e.tagName.toLowerCase()+(e.id?"#"+e.id:""):e}function o(e,t){""!=t&&e.push(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.assert=i},{}],3:[function(e,t,n){function i(e){for(var t in m)if(m[t]==e)return m[t];return void 0}function r(e){return"-amp-layout-"+e}function o(e){return e==m.FIXED||e==m.FIXED_HEIGHT||e==m.RESPONSIVE||e==m.FILL}function a(e){var t="string"==typeof e?e:e.tagName;return t&&0==t.toLowerCase().indexOf("i-")}function s(e){return"number"==typeof e?e+"px":e&&/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax)?$/.test(e)?/^\d+(\.\d+)?$/.test(e)?e+"px":e:void 0}function l(e){return(0,h.assert)(/^\d+(\.\d+)?(px|em|rem|vh|vw|vmin|vmax)$/.test(e),"Invalid length value: %s",e),e}function u(e){l(e);var t=(0,h.assert)(e.match(/[a-z]+/i),"Failed to read units from %s",e);return t[0]}function c(e){return parseFloat(e)}function f(e){return e=e.toUpperCase(),void 0!==v[e]}function p(e){if(e=e.toUpperCase(),!v[e]){var t=e.replace(/^AMP\-/,""),n=document.createElement(t);n.controls=!0,n.style.position="absolute",n.style.visibility="hidden",document.body.appendChild(n),v[e]={width:n.offsetWidth||1,height:n.offsetHeight||1},document.body.removeChild(n)}return v[e]}function d(e){return y[e.toUpperCase()]||!1}Object.defineProperty(n,"__esModule",{value:!0}),n.parseLayout=i,n.getLayoutClass=r,n.isLayoutSizeDefined=o,n.isInternalElement=a,n.parseLength=s,n.assertLength=l,n.getLengthUnits=u,n.getLengthNumeral=c,n.hasNaturalDimensions=f,n.getNaturalDimensions=p,n.isLoadingAllowed=d;var h=e("./asserts"),m={NODISPLAY:"nodisplay",FIXED:"fixed",FIXED_HEIGHT:"fixed-height",RESPONSIVE:"responsive",CONTAINER:"container",FILL:"fill"};n.Layout=m;var v={"AMP-PIXEL":{width:1,height:1},"AMP-AUDIO":null};n.naturalDimensions_=v;var y={"AMP-ANIM":!0,"AMP-IFRAME":!0,"AMP-IMG":!0,"AMP-INSTAGRAM":!0,"AMP-PINTEREST":!0,"AMP-VIDEO":!0};n.LOADING_ELEMENTS_=y},{"./asserts":2}],4:[function(e,t,n){function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e,t){for(var n=0;n<m.length;n++){var i=m[n]+t;if(void 0!==e[i])return i}return""}function o(e,t,n){var o=h[t];if(!o||n){if(o=t,void 0===e[t]){var a=i(t),s=r(e,a);void 0!==e[s]&&(o=s)}n||(h[t]=o)}return o}function a(e,t,n,i,r){var a=o(e.style,t,r);a&&(e.style[a]=i?n+i:n)}function s(e,t,n){var i=o(e.style,t,n);return i?e.style[i]:void 0}function l(e,t){for(var n in t)a(e,n,t[n])}function u(e,t){void 0===t&&(t=!("none"!=e.style.display)),e.style.display=t?"":"none"}function c(e){return e+"px"}function f(e){return"string"==typeof e?"translateX("+e+")":"translateX("+c(e)+")"}function p(e,t){return"number"==typeof e&&(e=c(e)),void 0===t?"translate("+e+")":("number"==typeof t&&(t=c(t)),"translate("+e+","+t+")")}function d(e){return"scale("+e+")"}Object.defineProperty(n,"__esModule",{value:!0}),n.camelCaseToTitleCase=i,n.getVendorJsPropertyName=o,n.setStyle=a,n.getStyle=s,n.setStyles=l,n.toggle=u,n.px=c,n.translateX=f,n.translate=p,n.scale=d;var h=Object.create(null),m=["Webkit","webkit","Moz","moz","ms","O","o"]},{}]},{},[1])});
//# sourceMappingURL=amp-fit-text-0.1.js.map